!function(a){"use strict";var b={numberFunctionObject:function(a){return{testNumber:function(b,c){return b[a]()===c},testFunction:function(b,c){return c(b[a]())}}},stringRegexpFunctionObject:function(a){return{testString:function(b,c){return b[a]()===c},testRegexp:function(b,c){return b[a]().match(c)},testFunction:function(b,c){return c(b[a]())}}},keyValuekeyRegexpKeyFn:function(a){return{testKeyValue:function(b,c){return b[a](c.key)==c.value},testKeyRegexp:function(b,c){return(""+b[a](c.key)).match(c.value)},testKeyValueFn:function(b,c){return c.value(b[a](c.key))}}},numberCountFn:function(a){return{testNumber:function(b,c){return b[a]().length===c},testFunction:function(b,c){return c(b[a]())}}}},c={html:b.stringRegexpFunctionObject("html"),text:b.stringRegexpFunctionObject("text"),width:b.numberFunctionObject("width"),height:b.numberFunctionObject("height"),outerHeight:b.numberFunctionObject("outerHeight"),innerHeight:b.numberFunctionObject("innerHeight"),outerWidth:b.numberFunctionObject("outerWidth"),innerWidth:b.numberFunctionObject("innerWidth"),css:b.keyValuekeyRegexpKeyFn("css"),data:b.keyValuekeyRegexpKeyFn("data"),children:b.numberCountFn("children"),siblings:b.numberCountFn("siblings"),parents:b.numberCountFn("parents")},d=function(a,b){return a&&c[a]?b===""+b&&b.indexOf?c[a].testString:b+0===b?c[a].testNumber:b.compile?c[a].testRegexp:b.prototype&&b.prototype.constructor?c[a].testFunction:b.key&&b.value?b.value.prototype&&b.value.prototype.constructor?c[a].testKeyValueFn:b.value.compile?c[a].testKeyRegexp:c[a].testKeyValue:null:null};a.fn.where=function(b){var c=this.toArray(),e=b;return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"==toString.call(e)||(e=[e]),a.each(e,function(b,e){for(var f=0;f<c.length;f++){var g=c[f],h=Object.keys(e)[0],i=e[h],j=d(h,i),k=a(g);if(!j)throw new Error("Assertion for filter "+h+" is unknown");j(k,i)||(c.splice(c.indexOf(g),1),f-=1)}}),a(c)}}(jQuery);